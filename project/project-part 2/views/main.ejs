<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Page</title>
    <link rel="stylesheet" href="/css-reset.css">
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <nav>
        <ul>
            <li><a href="/main">Main</a></li>
            <li><a href="/register">Register</a></li>
            <li><a href="/about">About</a></li>
            <li><a href="/helpPage">Help Page</a></li>
        </ul>
    </nav>

    <main>
        <h1>Search for Patients</h1>
        <form>
            <label for="Pid">Enter the ID of the patient:</label>
            <input type="text" name="Pid" id="Pid" placeholder="Patient ID">
            <button type="button" onclick="searchPatient()">Search</button>
        </form>

        <section id="resultSection">
            <h2>Search Results</h2>
            <table id="resultTable" border="1">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Email</th>
                        <th>Phone Number</th>
                        <th>Department</th>
                    </tr>
                </thead>
                <tbody>
                    <% patients.forEach(pi => { %>
                        <tr>
                            <td><%= pi.Pid %></td>
                            <td><%= pi.first_name %></td>
                            <td><%= pi.last_name %></td>
                            <td><%= pi.email %></td>
                            <td><%= pi.phone_number %></td>
                            <td><%= pi.department %></td>
                            <td>
                                <!-- Delete Button -->
                                <form action="/v1/companies/del/<%= comp.id %>" method="POST" style="display: inline;" 
                                      onsubmit="return confirm('Are you sure you want to delete this company?');">
                                  <button type="submit" style="background-color: red; cursor: pointer;">Delete</button>
                                </form>  
                  
                                <!-- Update Button -->
                                <button type="button" style="background-color: blue; color: white; cursor: pointer;" 
                                        onclick="openUpdateModal('<%= comp.id %>', '<%= comp.name %>', '<%= comp.address %>', 
                                        '<%= comp.description %>', '<%= comp.capital %>', '<%= comp.owner %>')">
                                  Update
                                </button>
                              </td>  
                        </tr>
                    <% }); %>
                </tbody>
            </table>
        </section>
    </main>

    <footer>
        <p>Done by: Hussain Alsari, Feras Alswalim, Mazn Alasmari, Abdulwahab Alharthy</p>
        <p>2024 &copy; Omega</p>
    </footer>

    <script>
        function searchPatient() {
            // Add JavaScript functionality to search for a patient
            console.log("Search button clicked");
        }
    </script>
</body>
</html>
